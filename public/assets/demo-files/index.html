<!DOCTYPE html>
<html>
<head>
    <script defer src="../js/frame.js"></script>
    <script defer>
        const demoContent = async ({ html, cssHref, js }) => {
            try {
                html && (document.body.innerHTML = await fetch(html).then((res) => res.ok ? res.text() : '').catch(err => err.message.includes('404') && ''));
                cssHref && document.head.querySelector('link')?.remove();
                cssHref && (document.head.innerHTML += `<link rel="stylesheet" href="${cssHref}">`);
                js && js.forEach(lib => {
                    const script = document.createElement('script');
                    script.src = lib;
                    script.defer = true;
                    document.head.appendChild(script);
                })
            } catch (error) {
                console.error(error);
            }
        };
        window.addEventListener("load", () => parent.postMessage({ load: true }));
        window.addEventListener("message", ({ data, origin }) => location.origin === origin && demoContent(data));
    </script>
</head>
<body></body>
</html>